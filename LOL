local WindUI = loadstring(game:HttpGet("https://github.com/Footagesus/WindUI/releases/latest/download/main.lua"))()

WindUI:Notify({
    Title = "FIN V2 Hub启动中",
    Content = "尊贵的FIN用户 欢迎使用FIN脚本",
    Duration = 5,
})

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Character = LocalPlayer.Character
local hum = Character.HumanoidRootPart
local PlayerGui = LocalPlayer.PlayerGui

local Window = WindUI:CreateWindow({
    Title = "FIN V2",
    Icon = "rbxassetid://129260712070622",
    IconThemed = true,
    Author = "作者:鑫晴",
    Folder = "CloudHub",
    Size = UDim2.fromOffset(300, 270),
    Transparent = true,
    Theme = "Dark",
    User = {
        Enabled = true,
        Callback = function() print("clicked") end,
        Anonymous = false
    },
    SideBarWidth = 200,
    -- HideSearchBar = true,
    ScrollBarEnabled = true,
    -- Background = "rbxassetid://13511292247", -- rbxassetid only
})

Window:EditOpenButton({
    Title = "FIN V2 Hub",
    Icon = "star",
    CornerRadius = UDim.new(0,16),
    StrokeThickness = 2,
    Color = ColorSequence.new(
        Color3.fromHex("FF0F7B"), 
        Color3.fromHex("F89B29")
    ),
    Draggable = true,
})

local Tab = Window:Tab({
    Title = "极速传奇",
    Icon = "zap",
    Locked = false,
})

local featureToggle = TabHandles.Elements:Toggle({
    Title = "自动收集",
    Desc = "简介",
    Value = false,
    Callback = function(state) 
        toggleState = state
        WindUI:Notify({
            Title = "自动收集",
            Content = state and "功能已启用" or "功能已关闭",
            Icon = state and "check" or "x",
            Duration = 2
        })
        
        if state then
            if not running then
                running = true
                local args = {"SellOres"}
                local delay = 1
                
                coroutine.wrap(function()
                    while toggleState and running do
                        game:GetService("ReplicatedStorage").rEvents.orbEvent:FireServer(unpack(args))
                    end
                    running = false
                end)()
            end
        else
            running = false
        end
    end
})
